@use 'sass:map';
@use 'node_modules/@tetacom/themes/src/base/presets.scss' as base;
@use 'node_modules/@tetacom/themes/src/tatneft/presets.scss' as tatneft;
@use 'node_modules/@tetacom/themes/src/green/presets.scss' as greenPreset;

$tatneft_presets: map-get(tatneft.$presets, 'themes');
$base_presets: map-get(base.$presets, 'themes');
$green_presets: map-get(greenPreset.$presets, 'themes');
$themes0: map-merge($tatneft_presets, $base_presets);
$themes: map-merge($themes0, $green_presets);

@function getColorVar($palette, $grade) {
  @return var(--color-#{$palette}-#{$grade});
}

@mixin generateButtonForPalette($paletteName) {
  .button_primary.button-#{'' + $paletteName} {
    background-color: getColorVar($paletteName, '50');
    background-position: center;
    transition: background 0.8s;

    &:hover {
    }

    &:active {
    }
  }

  .button_ghost.button-#{'' + $paletteName} {
    color: getColorVar($paletteName, '90');
    fill: getColorVar($paletteName, '90');
    background-color: transparent;
    background-position: center;
    transition: background 0.8s;

    &:hover {
      background: getColorVar($paletteName, '5')
        radial-gradient(
          circle,
          transparent 1%,
          getColorVar($paletteName, '5') 1%
        )
        center/15000%;
    }

    &:active {
      background-color: getColorVar($paletteName, '10');
      background-size: 100%;
      transition: background 0s;
    }
  }

  .button_outline.button-#{'' + $paletteName} {
    color: getColorVar($paletteName, '50');
    fill: getColorVar($paletteName, '50');
    border-color: getColorVar($paletteName, '50');
    border-style: solid;
    border-width: 1px;
    background-color: transparent;
    background-position: center;
    transition: background 0.8s;

    &:hover {
      background: getColorVar($paletteName, '5')
        radial-gradient(
          circle,
          transparent 1%,
          getColorVar($paletteName, '5') 1%
        )
        center/15000%;
    }

    &:active {
      background-color: getColorVar($paletteName, '10');
      background-size: 100%;
      transition: background 0s;
    }
  }
}

@each $paletteName, $palette in map.get($themes, nth(map.keys($themes), 1)) {
  @include generateButtonForPalette($paletteName);
}

html {
  @each $name, $theme in map.keys($themes) {
    @debug $name;
    &.#{$name} {
      @each $paletteName, $palette in map.get($themes, $name) {
        @each $paletteColorName, $paletteColor in $palette {
          --color-#{'' + $paletteName}-#{'' + $paletteColorName}: #{'' +
            $paletteColor};
        }
      }
    }
  }
}
